{% extends "master.html" %}
{% block content %}

<!-- Big Hero Slider -->
<div id="bigSlider" class="carousel slide mb-5 shadow-lg rounded-4 overflow-hidden" data-bs-ride="carousel"
     data-bs-interval="3000">
  <div class="carousel-inner">

    <div class="carousel-item"
         v-for="(product, index) in product_list.slice(0, 20)"
         :class="{ active: index === 0 }">

      <!-- Flex container with padding -->
      <div class="d-flex align-items-center justify-content-between px-5 py-4"
           style="height:320px; background: linear-gradient(135deg, #f8f9fa, #e9ecef);">

        <!-- Product Image (left) -->
        <img
                :src="'{{ url_for('static', filename='image/product/') }}'+product.image"
                class="img-fluid me-5"
                style="max-height:240px; width:auto; object-fit:contain;margin-left:100px;"
        >

        <!-- Product Info (right) -->
        <div class="text-end ms-5" style="margin-right:100px">
          <h4 class="fw-bold text-dark mb-2">[[ product.name ]]</h4>
          <p class="fs-5 fw-bold text-primary mb-3">$[[ product.price||product.price.toFixed(2) ]]</p>
          <a :href="`/product?pro_id=${product.id}`" class="btn btn-primary rounded-pill px-4 py-2">Shop Now</a>
        </div>

      </div>
    </div>

  </div>

  <!-- Controls -->
  <button class="carousel-control-prev" type="button" data-bs-target="#bigSlider" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#bigSlider" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>




<div class="row">
  <div class="col-6 col-md-3 mb-4" v-for="product in product_list" :key="product.id">
    <div class="card border-0 rounded-4 shadow-sm h-100 text-center product-card d-flex flex-column">

      <!-- Product Link -->
      <a :href="`/product?pro_id=${product.id}`" style="text-decoration:none; color:inherit;">
        <div class="bg-light p-3">
          <img
            :src="'{{ url_for('static', filename='image/product/') }}'+product.image"
            class="img-fluid"
            :alt="product.name"
            style="height:180px; object-fit:contain;"
            onerror="this.src='/static/image/no-image.png'"
          >
        </div>

        <div class="card-body p-3 d-flex flex-column">
          <h6 class="card-title text-truncate mb-1">[[ product.name ]]</h6>
          <p class="text-muted small mb-2">[[ product.category_name ]]</p>
          <p class="fw-bold text-primary mb-3">$[[ product.price||product.price.toFixed(2) ]]</p>
        </div>
      </a>
      <div class="pb-3 px-3">
        <button class="btn btn-primary btn-sm rounded-pill w-100" @click="addToCart(product)">
          Add To Cart
        </button>
      </div>
    </div>
  </div>
</div>





{% endblock %}